{%
  from "components/ui/delete_confirmation.html"
  import form_template as delete_confirmation,
  button_template as delete_button
%}
{% from "components/ui/input.html" import input %}
{% from "components/ui/button.html" import button %}
{% from "components/ui/icons.html" import icon %}
{% extends "components/ui/modal.html" %}

{% set show = "state.modal.isOpen" %}
{% set title = "state.modal.title" %}
{% set cancel = "cancel()" %}

{% block content %}
  <template x-if="state.action === 'create' || state.action === 'update'">
    <div class="space-y-4">
      {{
        input(
          label="Name",
          x_model="state.form.name",
          type="text",
          name="group-name",
          placeholder="Enter group name",
          required=true
        )
      }}
    </div>
  </template>
  {{
    delete_confirmation(
      x_if="state.action === 'delete'",
      entity_name="state.form.name"
    )
  }}
{% endblock %}

{% block buttons %}
  <template x-if="state.action !== 'delete'">
    {{
      button(
        x_text="state.modal.buttonText",
        icon=icon(name="check", size="sm", color="white"),
        callback="submit()",
        type="button",
        variant="blue",
        x_bind_disabled="!state.form.name?.trim()"
      )
    }}
  </template>
  {{
    delete_button(
      x_if="state.action === 'delete'",
      x_text="state.modal.buttonText",
      callback="submit()"
    )
  }}
{% endblock %}
